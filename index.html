<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Physics Sandbox</title>
  <style>
    body { margin: 0; overflow: hidden; font-family: sans-serif; }
    canvas { display: block; background: #f0f0f0; }
    #ui, #instructions, #langSelect {
      position: fixed;
      background: white;
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      z-index: 10;
    }
    #ui {
      top: 10px;
      right: 10px;
    }
    #langSelect {
      top: 10px;
      left: 10px;
    }
    #instructions {
      bottom: 10px;
      right: 10px;
      background: rgba(255, 255, 255, 0.8);
      font-size: 14px;
      color: black;
    }
    #contextMenu {
      position: absolute;
      display: none;
      background: white;
      border: 1px solid #ccc;
      padding: 5px;
      z-index: 1000;
      border-radius: 6px;
    }
    #contextMenu button {
      display: block;
      width: 100%;
      padding: 5px 10px;
      text-align: left;
      border: none;
      background: none;
      cursor: pointer;
    }
    #contextMenu button:hover {
      background: #eee;
    }
    #explosionSlider {
      width: 100px;
    }
  </style>
</head>
<body>
  <div id="langSelect">
    <label for="language">Language:</label>
    <select id="language">
      <option value="en" selected>English</option>
      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
    </select>
  </div>

  <div id="ui">
    <label for="shapeSelect" id="shapeLabel">Shape:</label>
    <select id="shapeSelect">
      <option value="square">Square</option>
      <option value="circle">Circle</option>
      <option value="triangle">Triangle</option>
      <option value="wall">Brick Wall</option>
      <option value="weight">Weight</option>
      <option value="explosion">üí• Explosion</option>
    </select>
    <br />
    <label for="explosionSlider" id="explosionLabel">Explosion Strength:</label>
    <input type="range" id="explosionSlider" min="0.01" max="0.2" step="0.01" value="0.05">
  </div>

  <div id="instructions">
    <strong id="controlsTitle">Controls:</strong><br>
    T - Place object<br>
    Right Click - Open object menu<br>
    Left Click - Move object<br>
    A/D or Mouse Wheel - Rotate object<br>
    Z - Undo last object<br>
    C - Clear map<br>
    Y (on 2 objects) - Connect with rope<br>
  </div>

  <div id="contextMenu">
    <button id="deleteBtn">Delete</button>
    <button id="freezeBtn">Freeze</button>
  </div>

  <script>
    const translations = {
      en: {
        shapeLabel: "Shape:",
        explosionLabel: "Explosion Strength:",
        controlsTitle: "Controls:",
        controlsText: `T - Place object<br>
Right Click - Open object menu<br>
Left Click - Move object<br>
A/D or Mouse Wheel - Rotate object<br>
Z - Undo last object<br>
C - Clear map<br>
Y (on 2 objects) - Connect with rope`,
        deleteBtn: "Delete",
        freeze: "Freeze",
        unfreeze: "Unfreeze",
        shapeOptions: ["Square", "Circle", "Triangle", "Brick Wall", "Weight", "üí• Explosion"]
      },
      ru: {
        shapeLabel: "–§–∏–≥—É—Ä–∞:",
        explosionLabel: "–°–∏–ª–∞ –≤–∑—Ä—ã–≤–∞:",
        controlsTitle: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:",
        controlsText: `T - –ø–æ—Å—Ç–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç<br>
–ü–ö–ú - –æ—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é –æ–±—ä–µ–∫—Ç–∞<br>
–õ–ö–ú - –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –æ–±—ä–µ–∫—Ç<br>
A/D –∏–ª–∏ –∫–æ–ª–µ—Å–æ –º—ã—à–∏ - –≤—Ä–∞—â–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞<br>
Z - –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ–±—ä–µ–∫—Ç<br>
C - –æ—á–∏—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç—É<br>
Y (–ø–æ 2 –æ–±—ä–µ–∫—Ç–∞–º) - —Å–æ–µ–¥–∏–Ω–∏—Ç—å –∫–∞–Ω–∞—Ç–æ–º`,
        deleteBtn: "–£–¥–∞–ª–∏—Ç—å",
        freeze: "–ó–∞–º–æ—Ä–æ–∑–∏—Ç—å",
        unfreeze: "–†–∞–∑–º–æ—Ä–æ–∑–∏—Ç—å",
        shapeOptions: ["–ö–≤–∞–¥—Ä–∞—Ç", "–ö—Ä—É–≥", "–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "–ö–∏—Ä–ø–∏—á–Ω–∞—è —Å—Ç–µ–Ω–∞", "–ì–∏—Ä—è", "üí• –í–∑—Ä—ã–≤"]
      }
    };

    const langSelect = document.getElementById("language");
    langSelect.addEventListener("change", () => {
      const lang = langSelect.value;
      const t = translations[lang];

      document.getElementById("shapeLabel").textContent = t.shapeLabel;
      document.getElementById("explosionLabel").textContent = t.explosionLabel;
      document.getElementById("controlsTitle").textContent = t.controlsTitle;
      document.getElementById("instructions").innerHTML = `<strong>${t.controlsTitle}</strong><br>${t.controlsText}`;
      document.getElementById("deleteBtn").textContent = t.deleteBtn;
      document.getElementById("freezeBtn").textContent = selectedBody && selectedBody.isStatic ? t.unfreeze : t.freeze;

      const shapeSelect = document.getElementById("shapeSelect");
      [...shapeSelect.options].forEach((opt, i) => {
        opt.textContent = t.shapeOptions[i];
      });
    });
  </script>

  <!-- Matter.js –∏ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –∏–≥—Ä—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
</body>
</html>
